{"ast":null,"code":"import _slicedToArray from\"/Users/rdrouet/Documents/PERSONNEL/OCR/OCR-P7/mon-vieux-grimoire/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import styles from'./AddBook.module.css';import BookForm from'../../components/Books/BookForm/BookForm';import BackArrow from'../../components/BackArrow/BackArrow';import{useUser}from'../../lib/customHooks';import{APP_ROUTES}from'../../utils/constants';import bookAdd from'../../images/book_add.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddBook(){var navigate=useNavigate();var _useUser=useUser(),connectedUser=_useUser.connectedUser,auth=_useUser.auth,userLoading=_useUser.userLoading;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),created=_useState2[0],setCreated=_useState2[1];useEffect(function(){if(!userLoading){if(!connectedUser||!auth){navigate(APP_ROUTES.SIGN_IN);}}},[userLoading]);return/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(BackArrow,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.Container,children:!created?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ajouter un livre\"}),/*#__PURE__*/_jsx(\"p\",{children:\"tous les champs sont obligatoires\"}),/*#__PURE__*/_jsx(BookForm,{validate:setCreated})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.Created,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Merci!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"votre livre a bien \\xE9t\\xE9 publi\\xE9\"}),/*#__PURE__*/_jsx(\"img\",{src:bookAdd,alt:\"Livre ajout\\xE9\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"button\",children:\"Retour \\xE0 l'accueil\"})]})})]});}export default AddBook;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","styles","BookForm","BackArrow","useUser","APP_ROUTES","bookAdd","AddBook","navigate","connectedUser","auth","userLoading","created","setCreated","SIGN_IN","Container","Created"],"sources":["/Users/rdrouet/Documents/PERSONNEL/OCR/OCR-P7/mon-vieux-grimoire/frontend/src/pages/AddBook/AddBook.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styles from './AddBook.module.css';\nimport BookForm from '../../components/Books/BookForm/BookForm';\nimport BackArrow from '../../components/BackArrow/BackArrow';\nimport { useUser } from '../../lib/customHooks';\nimport { APP_ROUTES } from '../../utils/constants';\nimport bookAdd from '../../images/book_add.jpg';\n\nfunction AddBook() {\n  const navigate = useNavigate();\n  const { connectedUser, auth, userLoading } = useUser();\n  const [created, setCreated] = useState(false);\n  useEffect(() => {\n    if (!userLoading) {\n      if (!connectedUser || !auth) {\n        navigate(APP_ROUTES.SIGN_IN);\n      }\n    }\n  }, [userLoading]);\n\n  return (\n    <div className=\"content-container\">\n      <BackArrow />\n      <div className={styles.Container}>\n        {!created ? (\n          <>\n            <h1>Ajouter un livre</h1>\n            <p>tous les champs sont obligatoires</p>\n            <BookForm validate={setCreated} />\n          </>\n        ) : (\n          <div className={styles.Created}>\n            <h1>Merci!</h1>\n            <p>votre livre a bien été publié</p>\n            <img src={bookAdd} alt=\"Livre ajouté\" />\n            <Link to=\"/\" className=\"button\">Retour à l&apos;accueil</Link>\n          </div>\n\n        )}\n\n      </div>\n    </div>\n  );\n}\n\nexport default AddBook;\n"],"mappings":"+JAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,SAAQ,KAAM,0CAA0C,CAC/D,MAAOC,UAAS,KAAM,sCAAsC,CAC5D,OAASC,OAAO,KAAQ,uBAAuB,CAC/C,OAASC,UAAU,KAAQ,uBAAuB,CAClD,MAAOC,QAAO,KAAM,2BAA2B,CAAC,6IAEhD,QAASC,QAAO,EAAG,CACjB,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAC9B,aAA6CI,OAAO,EAAE,CAA9CK,aAAa,UAAbA,aAAa,CAAEC,IAAI,UAAJA,IAAI,CAAEC,WAAW,UAAXA,WAAW,CACxC,cAA8Bb,QAAQ,CAAC,KAAK,CAAC,wCAAtCc,OAAO,eAAEC,UAAU,eAC1BhB,SAAS,CAAC,UAAM,CACd,GAAI,CAACc,WAAW,CAAE,CAChB,GAAI,CAACF,aAAa,EAAI,CAACC,IAAI,CAAE,CAC3BF,QAAQ,CAACH,UAAU,CAACS,OAAO,CAAC,CAC9B,CACF,CACF,CAAC,CAAE,CAACH,WAAW,CAAC,CAAC,CAEjB,mBACE,aAAK,SAAS,CAAC,mBAAmB,wBAChC,KAAC,SAAS,IAAG,cACb,YAAK,SAAS,CAAEV,MAAM,CAACc,SAAU,UAC9B,CAACH,OAAO,cACP,wCACE,wCAAyB,cACzB,wDAAwC,cACxC,KAAC,QAAQ,EAAC,QAAQ,CAAEC,UAAW,EAAG,GACjC,cAEH,aAAK,SAAS,CAAEZ,MAAM,CAACe,OAAQ,wBAC7B,8BAAe,cACf,6DAAoC,cACpC,YAAK,GAAG,CAAEV,OAAQ,CAAC,GAAG,CAAC,iBAAc,EAAG,cACxC,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,mCAA+B,GAGjE,EAEG,GACF,CAEV,CAEA,cAAeC,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}