{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rdrouet/Documents/PERSONNEL/OCR/OCR-P7/mon-vieux-grimoire/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rdrouet/Documents/PERSONNEL/OCR/OCR-P7/mon-vieux-grimoire/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rdrouet/Documents/PERSONNEL/OCR/OCR-P7/mon-vieux-grimoire/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import BookItem from'../../components/Books/BookItem/BookItem';import Banner from'../../images/home_banner.jpg';import styles from'./Home.module.css';import{getBooks}from'../../lib/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];// eslint-disable-next-line max-len\nvar displayBooks=function displayBooks(){return books?books.map(function(book){return/*#__PURE__*/_jsx(BookItem,{size:2,book:book},book.id);}):/*#__PURE__*/_jsx(\"h1\",{children:\"Vide\"});};useEffect(function(){function getBooksList(){return _getBooksList.apply(this,arguments);}function _getBooksList(){_getBooksList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getBooks();case 2:data=_context.sent;if(data){setBooks(data);setLoading(false);}case 4:case\"end\":return _context.stop();}}},_callee);}));return _getBooksList.apply(this,arguments);}getBooksList();},[]);var backgroundImageStyle={backgroundImage:\"url(\".concat(Banner,\")\")};return/*#__PURE__*/_jsxs(\"div\",{className:styles.Home,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.banner,style:backgroundImageStyle}),/*#__PURE__*/_jsxs(\"main\",{className:styles.main,children:[/*#__PURE__*/_jsxs(\"header\",{className:styles.head,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Nos Livres\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xE0 lire et \\xE0 relire\"}),/*#__PURE__*/_jsx(Link,{to:\"/Ajouter\",className:\"button\",children:\"+ Ajouter un livre\"})]}),/*#__PURE__*/_jsx(\"section\",{className:styles.bookList,children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Chargement\"}):displayBooks()})]})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","BookItem","Banner","styles","getBooks","Home","books","setBooks","loading","setLoading","displayBooks","map","book","id","getBooksList","data","backgroundImageStyle","backgroundImage","banner","main","head","bookList"],"sources":["/Users/rdrouet/Documents/PERSONNEL/OCR/OCR-P7/mon-vieux-grimoire/frontend/src/pages/Home/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport BookItem from '../../components/Books/BookItem/BookItem';\nimport Banner from '../../images/home_banner.jpg';\nimport styles from './Home.module.css';\nimport { getBooks } from '../../lib/common';\n\nfunction Home() {\n  const [books, setBooks] = useState(null);\n  const [loading, setLoading] = useState(true);\n  // eslint-disable-next-line max-len\n  const displayBooks = () => (books ? books.map((book) => <BookItem size={2} book={book} key={book.id} />) : <h1>Vide</h1>);\n\n  useEffect(() => {\n    async function getBooksList() {\n      const data = await getBooks();\n      if (data) {\n        setBooks(data);\n        setLoading(false);\n      }\n    }\n    getBooksList();\n  }, []);\n  const backgroundImageStyle = { backgroundImage: `url(${Banner})` };\n  return (\n    <div className={styles.Home}>\n      <div className={styles.banner} style={backgroundImageStyle} />\n      <main className={styles.main}>\n        <header className={styles.head}>\n          <h1>Nos Livres</h1>\n          <p>à lire et à relire</p>\n          <Link to=\"/Ajouter\" className=\"button\">+ Ajouter un livre</Link>\n        </header>\n        <section className={styles.bookList}>\n          {loading ? <h1>Chargement</h1> : displayBooks()}\n        </section>\n      </main>\n\n    </div>\n\n  );\n}\n\nexport default Home;\n"],"mappings":"6eAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,SAAQ,KAAM,0CAA0C,CAC/D,MAAOC,OAAM,KAAM,8BAA8B,CACjD,MAAOC,OAAM,KAAM,mBAAmB,CACtC,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,wFAE5C,QAASC,KAAI,EAAG,CACd,cAA0BP,QAAQ,CAAC,IAAI,CAAC,wCAAjCQ,KAAK,eAAEC,QAAQ,eACtB,eAA8BT,QAAQ,CAAC,IAAI,CAAC,yCAArCU,OAAO,eAAEC,UAAU,eAC1B;AACA,GAAMC,aAAY,CAAG,QAAfA,aAAY,SAAUJ,MAAK,CAAGA,KAAK,CAACK,GAAG,CAAC,SAACC,IAAI,qBAAK,KAAC,QAAQ,EAAC,IAAI,CAAE,CAAE,CAAC,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAACC,EAAE,CAAI,GAAC,cAAG,4BAAa,EAAC,CAEzHd,SAAS,CAAC,UAAM,SACCe,aAAY,gJAA3B,oKACqBV,SAAQ,EAAE,QAAvBW,IAAI,eACV,GAAIA,IAAI,CAAE,CACRR,QAAQ,CAACQ,IAAI,CAAC,CACdN,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,sDACF,+CACDK,YAAY,EAAE,CAChB,CAAC,CAAE,EAAE,CAAC,CACN,GAAME,qBAAoB,CAAG,CAAEC,eAAe,eAASf,MAAM,KAAI,CAAC,CAClE,mBACE,aAAK,SAAS,CAAEC,MAAM,CAACE,IAAK,wBAC1B,YAAK,SAAS,CAAEF,MAAM,CAACe,MAAO,CAAC,KAAK,CAAEF,oBAAqB,EAAG,cAC9D,cAAM,SAAS,CAAEb,MAAM,CAACgB,IAAK,wBAC3B,gBAAQ,SAAS,CAAEhB,MAAM,CAACiB,IAAK,wBAC7B,kCAAmB,cACnB,+CAAyB,cACzB,KAAC,IAAI,EAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,gCAA0B,GACzD,cACT,gBAAS,SAAS,CAAEjB,MAAM,CAACkB,QAAS,UACjCb,OAAO,cAAG,kCAAmB,CAAGE,YAAY,EAAE,EACvC,GACL,GAEH,CAGV,CAEA,cAAeL,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}